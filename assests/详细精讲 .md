# è¯¦ç»†ç²¾è®²

## ä¸€ã€å…ˆåˆ«ç®¡â€œMember / Freeâ€ï¼Œåªå›ç­”ä¸€ä¸ªé—®é¢˜

å½“ä½ å†™ä¸€å¥ä»£ç ï¼š

```cpp
a == b

```

**C++ å®é™…è¦åšçš„æ˜¯ï¼š**

> â€œæˆ‘åˆ°åº•è¯¥è°ƒç”¨å“ªä¸€ä¸ªå‡½æ•°ï¼Ÿâ€
> 

è€Œæ‰€è°“ **Member vs Free Function**ï¼Œ

æœ¬è´¨åªæ˜¯åœ¨å›ç­”è¿™ä¸€ä¸ªé—®é¢˜ï¼š

> ğŸ‘‰ è¿™ä¸ªå‡½æ•°ï¼Œæ˜¯â€œå±äº a çš„â€ï¼Œè¿˜æ˜¯â€œä¸å±äºä»»ä½•å¯¹è±¡çš„æ™®é€šå‡½æ•°â€ï¼Ÿ
> 

---

## äºŒã€Member Functionï¼šæŠŠè¿ç®—ç¬¦å½“æˆâ€œå¯¹è±¡è‡ªå·±çš„è¡Œä¸ºâ€

### 1ï¸âƒ£ Member function çš„ç›´è§‰ç†è§£

å¦‚æœä½ å†™çš„æ˜¯ **member function**ï¼Œæ„æ€æ˜¯ï¼š

> â€œè¿™ä¸ªæ“ä½œæ˜¯ a è¿™ä¸ªå¯¹è±¡è‡ªå·±ä¼šåšçš„äº‹â€
> 

ä¾‹å¦‚ï¼š

```cpp
class Point {
public:
    bool operator==(Point other) const;
};

```

è¿™å¥è¯åœ¨ä½ è„‘å­é‡Œåº”è¯¥ç¿»è¯‘æˆï¼š

> â€œä¸€ä¸ª Point å¯¹è±¡ï¼ŒçŸ¥é“å¦‚ä½•å’Œå¦ä¸€ä¸ª Point æ¯”è¾ƒâ€
> 

---

### 2ï¸âƒ£ ç¼–è¯‘å™¨çœ¼é‡Œçš„çœŸå®è°ƒç”¨

ä½ å†™ï¼š

```cpp
p1 == p2;

```

ç¼–è¯‘å™¨å®é™…ç†è§£æˆï¼š

```cpp
p1.operator==(p2);

```

ä¹Ÿå°±æ˜¯è¯´ï¼š

- **å·¦è¾¹çš„ p1 æ˜¯ä¸»ä½“ï¼ˆreceiver / thisï¼‰**
- å³è¾¹çš„ p2 æ˜¯å‚æ•°

---

### 3ï¸âƒ£ ä¸€ä¸ªå…³é”®ç‚¹ï¼ˆå¾ˆå¤šäººå¡åœ¨è¿™ï¼‰

> ä¸ºä»€ä¹ˆ member function èƒ½è®¿é—® p2 çš„ private æˆå‘˜ï¼Ÿ
> 

å› ä¸ºï¼š

- `private` æ˜¯ **å¯¹ class é™åˆ¶**
- ä¸æ˜¯å¯¹â€œå¯¹è±¡å½¼æ­¤â€é™åˆ¶

**åŒä¸€ä¸ª class çš„ä»»æ„å¯¹è±¡ï¼Œå½¼æ­¤å¯ä»¥è®¿é—® privateã€‚**

---

## ä¸‰ã€Free Functionï¼šæŠŠè¿ç®—ç¬¦å½“æˆâ€œå¤–éƒ¨è§„åˆ™â€

### 1ï¸âƒ£ Free function çš„ç›´è§‰ç†è§£

å¦‚æœä½ å†™çš„æ˜¯ **free function**ï¼Œæ„æ€æ˜¯ï¼š

> â€œè¿™æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è§„åˆ™ï¼Œä¸å±äºä»»ä½•ä¸€ä¸ªå¯¹è±¡â€
> 

ä¾‹å¦‚ï¼š

```cpp
bool operator==(Point a, Point b);

```

ä½ è„‘å­é‡Œå¯ä»¥ç†è§£ä¸ºï¼š

> â€œæœ‰ä¸€æ¡è§„åˆ™ï¼Œç”¨æ¥åˆ¤æ–­ä¸¤ä¸ª Point æ˜¯å¦ç›¸ç­‰â€
> 

---

### 2ï¸âƒ£ ç¼–è¯‘å™¨çœ¼é‡Œçš„çœŸå®è°ƒç”¨

ä½ å†™ï¼š

```cpp
p1 == p2;

```

ç¼–è¯‘å™¨ç†è§£ä¸ºï¼š

```cpp
operator==(p1, p2);

```

æ­¤æ—¶ï¼š

- p1 å’Œ p2 **æ˜¯å®Œå…¨å¯¹ç§°çš„**
- æ²¡æœ‰â€œè°æ˜¯ä¸»ä½“â€

---

### 3ï¸âƒ£ é‚£ä¸ºä»€ä¹ˆ free function è®¿é—®ä¸äº† privateï¼Ÿ

å› ä¸ºï¼š

- å®ƒ **ä¸å±äº Point ç±»**
- é»˜è®¤æƒ…å†µä¸‹ï¼Œå¤–éƒ¨å‡½æ•°ä¸èƒ½è®¿é—® private

æ‰€ä»¥å¦‚æœä½ æƒ³è®¿é—® privateï¼Œå°±è¦è¯´ä¸€å¥ï¼š

```cpp
friend bool operator==(Point, Point);

```

ç¿»è¯‘æˆäººè¯ï¼š

> â€œæˆ‘ï¼ˆPointï¼‰ä¿¡ä»»è¿™ä¸ªå‡½æ•°ï¼Œå…è®¸å®ƒè®¿é—®æˆ‘çš„ private æ•°æ®â€
> 

---

## å››ã€ç°åœ¨æ¥çœ‹ PPT é‚£å¥è¯ï¼Œåˆ°åº•åœ¨è¯´ä»€ä¹ˆ

> 10.3 Member vs Free Function
> 

å…¶å® PPT åœ¨è¯´çš„åªæœ‰ä¸€ä»¶äº‹ï¼š

> â€œè¿ç®—ç¬¦é‡è½½æ—¶ï¼Œä½ æœ‰ä¸¤ç§å†™æ³•ï¼Œå®ƒä»¬åªæ˜¯â€˜æ”¾åœ¨å“ªé‡Œâ€™ä¸åŒâ€
> 
- Member functionï¼š
    
    è¿ç®—ç¬¦æ˜¯ **ç±»çš„ä¸€éƒ¨åˆ†**
    
- Free functionï¼š
    
    è¿ç®—ç¬¦æ˜¯ **ç±»å¤–çš„æ™®é€šå‡½æ•°**
    

---

## äº”ã€æœ€å…³é”®çš„åˆ¤æ–­æ–¹æ³•ï¼ˆä½ ä¸€å®šè¦è®°è¿™ä¸ªï¼‰

### é—®è‡ªå·±ä¸€å¥è¯ï¼š

> è¿™ä¸ªè¿ç®—ç¬¦ï¼Œè‡ªç„¶å±äºâ€œå·¦è¾¹å¯¹è±¡â€çš„è¡Œä¸ºå—ï¼Ÿ
> 

---

### âœ” å¦‚æœç­”æ¡ˆæ˜¯â€œæ˜¯â€

ç”¨ **member function**

ä¾‹å­ï¼š

```cpp
p1 == p2
p1 < p2
p1 + p2

```

å› ä¸ºï¼š

- â€œä¸€ä¸ª Point çŸ¥é“å¦‚ä½•å’Œå¦ä¸€ä¸ª Point æ¯”è¾ƒ / ç›¸åŠ â€

---

### âœ” å¦‚æœç­”æ¡ˆæ˜¯â€œä¸æ˜¯ï¼Œå·¦è¾¹ä¸æ˜¯æˆ‘çš„å¯¹è±¡â€

ç”¨ **free function**

ä¾‹å­ï¼ˆæœ€é‡è¦çš„ï¼‰ï¼š

```cpp
cout << p;

```

å·¦è¾¹æ˜¯ï¼š

```cpp
ostream

```

ä¸æ˜¯ `Point`ï¼Œ

æ‰€ä»¥ä½ **ä¸å¯èƒ½**å†™æˆï¼š

```cpp
class Point {
    ostream& operator<<(ostream& os); // è¿™æ˜¯ä¸å¯èƒ½çš„
};

```

å› æ­¤ **operator<< å¿…é¡»æ˜¯ free function**ã€‚